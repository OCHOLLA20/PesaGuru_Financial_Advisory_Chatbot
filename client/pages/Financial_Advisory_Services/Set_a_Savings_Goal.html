<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PesaGuru - Set a Savings Goal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/Financial_Advisory_Services/Set_a_Savings_Goal.css">
    <style>
        /* Add these progress classes to move inline styles to CSS */
        .progress-60 { width: 60%; }
        .progress-90 { width: 90%; }
        .progress-37-5 { width: 37.5%; }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-container">
                    <div class="logo-icon"><i class="fas fa-dollar-sign"></i></div>
                    <h1 class="logo-text">PesaGuru</h1>
                </div>
            </div>
            
            <nav class="sidebar-menu">
                <ul class="menu-items">
                    <li class="menu-item">
                        <a href="../../index.html"><i class="fas fa-home"></i>Dashboard</a>
                    </li>
                    <li class="menu-item">
                        <a href="#"><i class="fas fa-plus"></i>Add Expense ‚ûï</a>
                    </li>
                    <li class="menu-item active">
                        <a href="./Set_a_Savings_Goal.html"><i class="fas fa-trophy"></i>Set a Savings Goal üèÜ</a>
                    </li>
                    <li class="menu-item">
                        <a href="#"><i class="fas fa-file-alt"></i>Check Reports üìë</a>
                    </li>
                    <li class="menu-item">
                        <a href="#"><i class="fas fa-chart-line"></i>Investments üìà</a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <ul class="menu-items">
                    <li class="menu-item">
                        <a href="#"><i class="fas fa-question-circle"></i>Help</a>
                    </li>
                    <li class="menu-item">
                        <a href="#"><i class="fas fa-envelope"></i>Message</a>
                    </li>
                    <li class="menu-item">
                        <a href="#"><i class="fas fa-cog"></i>Settings</a>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h1>Set a Savings Goal</h1>
                    <p class="greeting">Good morning, <div User=""></div></p>
                </div>
                <div class="header-right">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search goals, categories...">
                    </div>
                    <div class="header-actions">
                        <button class="currency-toggle">KES <i class="fas fa-chevron-down"></i></button>
                        <button class="theme-toggle" title="Toggle dark mode">
                            <i class="fas fa-moon"></i>
                            <span class="sr-only">Toggle dark mode</span>
                        </button>
                        <button class="notification-btn"><i class="fas fa-bell"></i><span class="notification-badge">3</span></button>
                        <div class="user-profile">
                            <img src="https://storage.googleapis.com/a1aa/image/0U7xzC3_YA8vvhRz7YZBOcGa8zL2Ythwhf2wE3wxzV8.jpg" alt="User profile">
                            <span>User</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Dashboard Content -->
            <div class="dashboard-content">
                <!-- Left Column - Create Goal Form -->
                <div class="content-left">
                    <section class="section create-goal-section">
                        <div class="section-header">
                            <h2>Create New Savings Goal</h2>
                        </div>
                        <form id="goalForm" class="goal-form">
                            <div class="form-group">
                                <label for="goalName">Goal Name</label>
                                <input type="text" id="goalName" name="goalName" placeholder="E.g., New Car, Home Down Payment" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="goalAmount">Target Amount (KES)</label>
                                <input type="number" id="goalAmount" name="goalAmount" placeholder="Enter amount" min="1000" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="initialDeposit">Initial Deposit (Optional)</label>
                                <input type="number" id="initialDeposit" name="initialDeposit" placeholder="Enter amount" min="0">
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group half">
                                    <label for="targetDate">Target Date</label>
                                    <input type="date" id="targetDate" name="targetDate" required>
                                </div>
                                
                                <div class="form-group half">
                                    <label for="goalCategory">Category</label>
                                    <select id="goalCategory" name="goalCategory" required>
                                        <option value="" disabled selected>Select category</option>
                                        <option value="vacation">Vacation</option>
                                        <option value="emergency">Emergency Fund</option>
                                        <option value="gadget">Electronics/Gadgets</option>
                                        <option value="education">Education</option>
                                        <option value="vehicle">Vehicle</option>
                                        <option value="home">Home/Property</option>
                                        <option value="wedding">Wedding</option>
                                        <option value="retirement">Retirement</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="depositFrequency">Deposit Frequency</label>
                                <select id="depositFrequency" name="depositFrequency" required>
                                    <option value="weekly">Weekly</option>
                                    <option value="biweekly">Bi-weekly</option>
                                    <option value="monthly" selected>Monthly</option>
                                    <option value="quarterly">Quarterly</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="goalDescription">Description (Optional)</label>
                                <textarea id="goalDescription" name="goalDescription" placeholder="Add notes about your savings goal"></textarea>
                            </div>
                            
                            <div class="form-actions">
                                <button type="button" class="btn-outline" id="resetFormBtn">Reset</button>
                                <button type="submit" class="btn-primary">Create Goal</button>
                            </div>
                        </form>
                    </section>
                </div>

                <!-- Right Column - Projection & Tips -->
                <div class="content-right">
                    <!-- Goal Projection -->
                    <section class="section goal-projection">
                        <div class="section-header">
                            <h2>Goal Projection</h2>
                        </div>
                        <div id="projectionContainer" class="projection-container">
                            <div class="no-data-message">
                                <i class="fas fa-chart-line"></i>
                                <p>Fill out the form to see your savings projection</p>
                            </div>
                            <div class="projection-details hidden">
                                <div class="projection-card">
                                    <div class="projection-icon">
                                        <i class="fas fa-calendar-alt"></i>
                                    </div>
                                    <div class="projection-info">
                                        <h4>Time to Goal</h4>
                                        <p id="timeToGoal">-</p>
                                    </div>
                                </div>
                                
                                <div class="projection-card">
                                    <div class="projection-icon">
                                        <i class="fas fa-coins"></i>
                                    </div>
                                    <div class="projection-info">
                                        <h4>Required Deposit</h4>
                                        <p id="requiredDeposit">-</p>
                                    </div>
                                </div>
                                
                                <div class="projection-graph">
                                    <canvas id="projectionChart"></canvas>
                                </div>
                                
                                <button class="btn-primary" id="saveProjectionBtn">Save This Goal</button>
                            </div>
                        </div>
                    </section>

                    <!-- Savings Tips -->
                    <section class="section savings-tips">
                        <div class="section-header">
                            <h2>Smart Saving Tips</h2>
                        </div>
                        <div class="tips-list">
                            <div class="tip-item">
                                <div class="tip-icon">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                <div class="tip-content">
                                    <h4>50/30/20 Rule</h4>
                                    <p>Allocate 50% of income to needs, 30% to wants, and 20% to savings for optimal financial health.</p>
                                </div>
                            </div>
                            
                            <div class="tip-item">
                                <div class="tip-icon">
                                    <i class="fas fa-piggy-bank"></i>
                                </div>
                                <div class="tip-content">
                                    <h4>Automate Your Savings</h4>
                                    <p>Set up automatic transfers to your savings account on payday to make saving effortless.</p>
                                </div>
                            </div>
                            
                            <div class="tip-item">
                                <div class="tip-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="tip-content">
                                    <h4>Pay Yourself First</h4>
                                    <p>Contribute to your savings goals before spending on discretionary items for consistent progress.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Recommended Goals -->
                    <section class="section recommended-goals">
                        <div class="section-header">
                            <h2>Recommended Goals</h2>
                        </div>
                        <div class="recommended-goals-list">
                            <div class="recommended-goal">
                                <div class="goal-icon emergency-icon">
                                    <i class="fas fa-first-aid"></i>
                                </div>
                                <div class="goal-details">
                                    <h4>Emergency Fund</h4>
                                    <p>3-6 months of expenses</p>
                                    <button class="btn-outline btn-sm use-template" data-goal="Emergency Fund" data-category="emergency">Use Template</button>
                                </div>
                            </div>
                            
                            <div class="recommended-goal">
                                <div class="goal-icon vacation-icon">
                                    <i class="fas fa-umbrella-beach"></i>
                                </div>
                                <div class="goal-details">
                                    <h4>Annual Vacation</h4>
                                    <p>KES 50,000 savings goal</p>
                                    <button class="btn-outline btn-sm use-template" data-goal="Annual Vacation" data-category="vacation">Use Template</button>
                                </div>
                            </div>
                            
                            <div class="recommended-goal">
                                <div class="goal-icon education-icon">
                                    <i class="fas fa-graduation-cap"></i>
                                </div>
                                <div class="goal-details">
                                    <h4>Education Fund</h4>
                                    <p>KES 150,000 for further education</p>
                                    <button class="btn-outline btn-sm use-template" data-goal="Education Fund" data-category="education">Use Template</button>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Current Goals Table -->
            <section class="section current-goals">
                <div class="section-header">
                    <h2>Your Current Goals</h2>
                    <button class="btn-text" id="exportGoalsBtn">Export Goals <i class="fas fa-download"></i></button>
                </div>
                <div class="goals-table-container">
                    <table class="goals-table">
                        <thead>
                            <tr>
                                <th>Goal Name</th>
                                <th>Category</th>
                                <th>Target Amount</th>
                                <th>Current Amount</th>
                                <th>Target Date</th>
                                <th>Progress</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Mombasa Vacation</td>
                                <td>Vacation</td>
                                <td>KES 20,000</td>
                                <td>KES 12,000</td>
                                <td>Aug 15, 2024</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar progress-60"></div>
                                        <span class="progress-text">60%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="table-actions">
                                        <button class="btn-icon" title="Edit goal" aria-label="Edit goal">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn-icon" title="Add funds" aria-label="Add funds">
                                            <i class="fas fa-plus-circle"></i>
                                        </button>
                                        <button class="btn-icon" title="Delete goal" aria-label="Delete goal">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Emergency Fund</td>
                                <td>Emergency</td>
                                <td>KES 50,000</td>
                                <td>KES 45,000</td>
                                <td>Sep 30, 2024</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar progress-90"></div>
                                        <span class="progress-text">90%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="table-actions">
                                        <button class="btn-icon" title="Edit goal" aria-label="Edit goal">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn-icon" title="Add funds" aria-label="Add funds">
                                            <i class="fas fa-plus-circle"></i>
                                        </button>
                                        <button class="btn-icon" title="Delete goal" aria-label="Delete goal">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>New Laptop</td>
                                <td>Gadget</td>
                                <td>KES 80,000</td>
                                <td>KES 30,000</td>
                                <td>Dec 01, 2024</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar progress-37-5"></div>
                                        <span class="progress-text">37.5%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="table-actions">
                                        <button class="btn-icon" title="Edit goal" aria-label="Edit goal">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn-icon" title="Add funds" aria-label="Add funds">
                                            <i class="fas fa-plus-circle"></i>
                                        </button>
                                        <button class="btn-icon" title="Delete goal" aria-label="Delete goal">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Chatbot Widget -->
            <div class="chatbot-widget">
                <button class="chatbot-toggle" title="Open chat assistant" aria-label="Open chat assistant">
                    <i class="fas fa-robot"></i>
                    <span class="sr-only">Chat with PesaGuru Assistant</span>
                </button>
            </div>

            <!-- Add Funds Modal -->
            <div class="modal" id="addFundsModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Add Funds to Goal</h3>
                        <button class="close-modal" title="Close modal" aria-label="Close modal"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="modal-body">
                        <form id="addFundsForm">
                            <div class="form-group">
                                <label for="goalTitle">Goal</label>
                                <input type="text" id="goalTitle" disabled>
                            </div>
                            <div class="form-group">
                                <label for="currentProgress">Current Progress</label>
                                <div class="progress-container">
                                    <div class="progress-bar" id="currentProgressBar"></div>
                                    <span class="progress-text" id="currentProgressText"></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="addAmount">Amount to Add (KES)</label>
                                <input type="number" id="addAmount" min="1" required>
                            </div>
                            <div class="form-group">
                                <label for="fundSource">Source of Funds</label>
                                <select id="fundSource" required>
                                    <option value="bank">Bank Account</option>
                                    <option value="M-pesa">M-Pesa</option>
                                    <option value="cash">Cash Deposit</option>
                                    <option value="transfer">Internal Transfer</option>
                                </select>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn-outline cancel-modal">Cancel</button>
                                <button type="submit" class="btn-primary">Add Funds</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="../../assets/js/Financial_Advisory_Services/Set_a_Savings_Goal.js"></script>
</body>
</html>