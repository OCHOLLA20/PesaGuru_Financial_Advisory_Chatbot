<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PesaGuru - Notification Preferences</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #1e88e5;
            --secondary-color: #ffab40;
            --text-color: #333;
            --background-color: #f5f5f5;
            --card-color: #ffffff;
            --border-color: #e0e0e0;
            --toggle-off: #ccc;
            --toggle-on: #4CAF50;
            --success-color: #4CAF50;
            --warning-color: #ff9800;
            --danger-color: #f44336;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --primary-color: #2196f3;
            --secondary-color: #ffc107;
            --text-color: #e0e0e0;
            --background-color: #121212;
            --card-color: #1e1e1e;
            --border-color: #333;
            --toggle-off: #555;
            --toggle-on: #4CAF50;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            box-shadow: var(--shadow);
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-title h1 {
            font-size: 1.8rem;
        }

        .header-actions {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .theme-toggle, .language-toggle {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        main {
            padding: 30px 0;
        }

        .card {
            background-color: var(--card-color);
            border-radius: 10px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            overflow: hidden;
        }

        .card-header {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }

        .card-header h2 {
            font-size: 1.3rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-body {
            padding: 20px;
        }

        .toggle-wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .toggle-wrapper:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .toggle-info {
            display: flex;
            flex-direction: column;
        }

        .toggle-title {
            font-weight: 600;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .toggle-description {
            color: #666;
            font-size: 0.9rem;
        }

        [data-theme="dark"] .toggle-description {
            color: #aaa;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--toggle-off);
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--toggle-on);
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        .notification-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .notification-method {
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: var(--background-color);
            padding: 15px;
            border-radius: 8px;
        }

        .notification-method i {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .notification-frequency {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .frequency-option {
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .frequency-option:hover {
            border-color: var(--primary-color);
        }

        .frequency-option.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .quiet-hours {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            align-items: center;
        }

        .time-input {
            padding: 8px 15px;
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-color);
            width: 120px;
        }

        .notification-history {
            margin-top: 15px;
        }

        .history-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        select, input[type="date"] {
            padding: 8px 15px;
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-color);
        }

        .notification-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            gap: 15px;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            background-color: var(--background-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .notification-content {
            flex-grow: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .notification-meta {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.85rem;
        }

        [data-theme="dark"] .notification-meta {
            color: #aaa;
        }

        .master-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1565c0;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #d32f2f;
        }

        .ai-recommendation {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px;
            background-color: rgba(33, 150, 243, 0.1);
            border-radius: 8px;
            margin-top: 15px;
        }

        .ai-icon {
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .ai-content {
            flex-grow: 1;
        }

        .ai-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--primary-color);
        }

        .ai-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .save-section {
            margin-top: 30px;
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }

        footer {
            background-color: var(--card-color);
            border-top: 1px solid var(--border-color);
            padding: 20px 0;
            margin-top: 50px;
        }

        footer .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-links {
            display: flex;
            gap: 20px;
        }

        .footer-links a {
            color: var(--text-color);
            text-decoration: none;
        }

        .footer-links a:hover {
            color: var(--primary-color);
        }

        /* Toast notifications */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .toast {
            background-color: var(--card-color);
            color: var(--text-color);
            border-left: 4px solid var(--primary-color);
            box-shadow: var(--shadow);
            padding: 15px 20px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-width: 300px;
            max-width: 400px;
            animation: slide-in 0.3s ease-out forwards;
        }

        .toast.success {
            border-left-color: var(--success-color);
        }

        .toast.warning {
            border-left-color: var(--warning-color);
        }

        .toast.error {
            border-left-color: var(--danger-color);
        }

        .toast-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toast-icon {
            font-size: 1.2rem;
        }

        .success .toast-icon {
            color: var(--success-color);
        }

        .warning .toast-icon {
            color: var(--warning-color);
        }

        .error .toast-icon {
            color: var(--danger-color);
        }

        .toast-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #777;
        }

        @keyframes slide-in {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slide-out {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .toggle-wrapper {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .quiet-hours {
                flex-direction: column;
                align-items: flex-start;
            }

            .notification-meta {
                flex-direction: column;
                gap: 5px;
            }

            footer .container {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .footer-links {
                flex-direction: column;
                gap: 10px;
            }
        }
        
        /* Added styles to replace inline styles */
        .mt-20 {
            margin-top: 20px;
        }
        
        .hidden {
            display: none;
        }
        /* Ensure the logo is properly resized */
.logo img {
    width: 60px; /* Adjust size as needed */
    height: auto; /* Maintain aspect ratio */
    display: block; /* Prevent extra spacing */
}

/* Align the logo and text horizontally */
.page-title {
    display: flex;
    align-items: center; /* Ensures vertical alignment */
    gap: 10px; /* Space between logo and text */
}

/* Adjust the font size of the title */
.page-title h1 {
    font-size: 24px; /* Adjust as needed */
    font-weight: bold;
    margin: 0;

    .page-title h1 {
        font-size: 24px;  /* Adjust size */
        font-weight: bold;
        color: white;  /* Ensure visibility on blue background */
        margin: 0;
        display: inline-block;
        vertical-align: middle;
    }    
}
    </style>
</head>
<body>
    <div class="toast-container" id="toastContainer"></div>

    <header>
        <div class="container">
            <div class="page-title">
                <div class="logo">
                    <<img src="../../assets/images/logo.png" alt="PesaGuru Logo">
                </div>
                <h1>PesaGuru</h1>
            </div>
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                    <span id="themeText">Dark Mode</span>
                </button>
                <button class="language-toggle" id="languageToggle">
                    <i class="fas fa-globe"></i>
                    <span id="languageText">Swahili</span>
                </button>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <h1 class="page-title" data-lang="notification-preferences">Notification Preferences</h1>

            <div class="master-actions">
                <button class="btn btn-primary" id="masterToggle">
                    <i class="fas fa-bell"></i>
                    <span data-lang="toggle-all-notifications">Toggle All Notifications</span>
                </button>
                <button class="btn btn-outline" id="testNotification">
                    <i class="fas fa-paper-plane"></i>
                    <span data-lang="test-notification">Test Notification</span>
                </button>
                <button class="btn btn-danger" id="muteAll">
                    <i class="fas fa-volume-mute"></i>
                    <span data-lang="mute-all">Mute All Notifications</span>
                </button>
            </div>

            <!-- Market & Investment Alerts -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-chart-line"></i> <span data-lang="market-investment">Market & Investment Alerts</span></h2>
                    <button class="btn btn-outline toggle-section-btn" aria-label="Toggle Market & Investment Alerts Section" title="Toggle Section Visibility">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
                <div class="card-body">
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-chart-bar"></i> <span data-lang="stock-market">Stock Market Updates</span></div>
                            <div class="toggle-description" data-lang="stock-market-desc">Price changes, trends, major news</div>
                        </div>
                        <div class="setting-item">
                            <label for="stockMarketToggle" class="setting-item-label">
                                Enable Notifications
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="stockMarketToggle" class="notification-toggle" checked aria-label="Enable Stock Market Updates Notifications" title="Toggle Stock Market Updates Notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fab fa-bitcoin"></i> <span data-lang="crypto-alerts">Cryptocurrency Alerts</span></div>
                            <div class="toggle-description" data-lang="crypto-desc">Price movements, volatility warnings</div>
                        </div>
                        <div class="setting-item">
                            <label for="cryptoToggle" class="setting-item-label">
                                Enable Notifications
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="cryptoToggle" class="notification-toggle" checked aria-label="Enable Cryptocurrency Alerts Notifications" title="Toggle Cryptocurrency Notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-percentage"></i> <span data-lang="interest-rates">Interest Rate Changes</span></div>
                            <div class="toggle-description" data-lang="interest-rates-desc">CBK, global trends</div>
                        </div>
                        <div class="setting-item">
                            <label for="interestRateToggle" class="setting-item-label">
                                Enable Notifications
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="interestRateToggle" class="notification-toggle" checked aria-label="Enable Interest Rate Changes Notifications" title="Toggle Interest Rate Notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-briefcase"></i> <span data-lang="portfolio-perf">Investment Portfolio Performance</span></div>
                            <div class="toggle-description" data-lang="portfolio-desc">Weekly and monthly performance updates</div>
                        </div>
                        <div class="setting-item">
                            <label for="portfolioToggle" class="setting-item-label">
                                Enable Notifications
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="portfolioToggle" class="notification-toggle" checked aria-label="Enable Portfolio Performance Notifications" title="Toggle Portfolio Performance Notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Financial Advisory & Insights -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-lightbulb"></i> <span data-lang="financial-advisory">Financial Advisory & Insights</span></h2>
                    <button class="btn btn-outline toggle-section-btn" aria-label="Toggle Financial Advisory Section" title="Toggle Section Visibility">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
                <div class="card-body">
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-hand-holding-usd"></i> <span data-lang="investment-rec">Personalized Investment Recommendations</span></div>
                            <div class="toggle-description" data-lang="investment-rec-desc">Tailored investment opportunities</div>
                        </div>
                        <div class="setting-item">
                            <label for="investmentRecToggle" class="setting-item-label">
                                Enable Notifications
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="investmentRecToggle" class="notification-toggle" checked aria-label="Enable Investment Recommendations Notifications" title="Toggle Investment Recommendations Notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-robot"></i> <span data-lang="ai-advice">AI-Driven Financial Advice Summaries</span></div>
                            <div class="toggle-description" data-lang="ai-advice-desc">Weekly insights based on your financial behavior</div>
                        </div>
                        <div class="setting-item">
                            <label for="aiAdviceToggle" class="setting-item-label">
                                Enable Notifications
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="aiAdviceToggle" class="notification-toggle" checked aria-label="Enable AI-Driven Financial Advice Notifications" title="Toggle AI Advice Notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-star"></i> <span data-lang="new-features">New Feature Announcements</span></div>
                            <div class="toggle-description" data-lang="new-features-desc">Stay updated with PesaGuru's latest features</div>
                        </div>
                        <div class="setting-item">
                            <label for="newFeaturesToggle" class="setting-item-label">
                                Enable Notifications
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="newFeaturesToggle" class="notification-toggle" checked aria-label="Enable New Feature Announcements Notifications" title="Toggle New Feature Notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Loan & Savings Notifications -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-piggy-bank"></i> <span data-lang="loan-savings">Loan & Savings Notifications</span></h2>
                    <button class="btn btn-outline toggle-section-btn" aria-label="Toggle Loan & Savings Notifications Section" title="Toggle Section Visibility">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
            </div>
                <div class="card-body">
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-calendar-alt"></i> <span data-lang="loan-reminders">Loan Repayment Reminders</span></div>
                            <div class="toggle-description" data-lang="loan-reminders-desc">Get timely reminders for upcoming loan payments</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="loanRemindersToggle" class="notification-toggle" checked aria-label="Enable Loan Repayment Reminders" title="Toggle Loan Repayment Reminders">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-flag-checkered"></i> <span data-lang="savings-milestones">Savings Milestones Reached</span></div>
                            <div class="toggle-description" data-lang="savings-milestones-desc">Celebrate when you reach savings goals</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="savingsMilestonesToggle" class="notification-toggle" checked aria-label="Enable Savings Milestones Notifications" title="Toggle Savings Milestones Notifications">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-umbrella"></i> <span data-lang="pension-updates">Pension & Retirement Plan Updates</span></div>
                            <div class="toggle-description" data-lang="pension-updates-desc">Periodic updates on your retirement planning</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="pensionUpdatesToggle" class="notification-toggle" checked aria-label="Enable Pension & Retirement Updates" title="Toggle Pension & Retirement Updates">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Security & Account Alerts -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-shield-alt"></i> <span data-lang="security-alerts">Security & Account Alerts</span></h2>
                    <button class="btn btn-outline toggle-section-btn" aria-label="Toggle Security & Account Alerts Section" title="Toggle Section Visibility">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
                <div class="card-body">
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-user-shield"></i> <span data-lang="unusual-login">Unusual Login Attempts</span></div>
                            <div class="toggle-description" data-lang="unusual-login-desc">Be notified of suspicious login activities</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="unusualLoginToggle" class="notification-toggle" checked aria-label="Enable Unusual Login Notifications" title="Toggle Unusual Login Notifications">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-user-edit"></i> <span data-lang="profile-changes">Profile Changes & Updates</span></div>
                            <div class="toggle-description" data-lang="profile-changes-desc">Notifications when your profile information changes</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="profileChangesToggle" class="notification-toggle" checked aria-label="Enable Profile Changes Notifications" title="Toggle Profile Changes Notifications">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="toggle-wrapper">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-exclamation-triangle"></i> <span data-lang="fraud-warnings">Suspicious Transactions or Fraud Warnings</span></div>
                            <div class="toggle-description" data-lang="fraud-warnings-desc">Immediate alerts for potential fraudulent activities</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="fraudWarningsToggle" class="notification-toggle" checked aria-label="Enable Fraud Warnings" title="Toggle Fraud Warnings">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Delivery Methods Selection -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-paper-plane"></i> <span data-lang="delivery-methods">Delivery Methods Selection</span></h2>
                    <button class="btn btn-outline toggle-section-btn" aria-label="Toggle Delivery Methods Section" title="Toggle Section Visibility">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
                <div class="card-body">
                    <p data-lang="choose-delivery">Choose how you want to receive notifications:</p>
                    <div class="notification-methods">
                        <div class="notification-method">
                            <label class="switch">
                                <input type="checkbox" id="pushNotificationToggle" class="method-toggle" checked aria-label="Enable Push Notifications" title="Toggle Push Notifications">
                                <span class="slider"></span>
                            </label>
                            <i class="fas fa-mobile-alt"></i>
                            <span data-lang="push-notifications">Push Notifications (App)</span>
                        </div>
                        <div class="notification-method">
                            <div class="setting-item">
                                <label for="emailToggle" class="setting-item-label">
                                    Enable Email Notifications
                                </label>
                                <label class="switch">
                                    <input type="checkbox" id="emailToggle" class="notification-toggle" checked aria-label="Enable Email Updates" title="Toggle Email Updates">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <i class="fas fa-envelope"></i>
                            <span data-lang="email-updates">Email Updates</span>
                        </div>
                        <div class="notification-method">
                            <label class="switch">
                                <input type="checkbox" id="smsToggle" class="method-toggle" aria-label="Enable SMS Alerts" title="Toggle SMS Alerts">
                                <span class="slider"></span>
                            </label>
                            <i class="fas fa-sms"></i>
                            <span data-lang="sms-alerts">SMS Alerts</span>
                        </div>
                        <div class="notification-method">
                            <label class="switch">
                                <input type="checkbox" id="inAppToggle" class="method-toggle" checked aria-label="Enable In-App Alerts" title="Toggle In-App Alerts">
                                <span class="slider"></span>
                            </label>
                            <i class="fas fa-bell"></i>
                            <span data-lang="in-app-alerts">In-App Alerts Only</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Notification Frequency & Quiet Hours -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-clock"></i> <span data-lang="frequency-quiet">Notification Frequency & Quiet Hours</span></h2>
                    <button class="btn btn-outline toggle-section-btn" aria-label="Toggle Notification Frequency & Quiet Hours Section" title="Toggle Section Visibility">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
            </div>            
                <div class="card-body">
                    <p data-lang="set-frequency">Set how often you want to receive notifications:</p>
                    <div class="notification-frequency">
                        <div class="frequency-option active" data-value="real-time">
                            <i class="fas fa-bolt"></i> <span data-lang="real-time">Real-time Alerts</span>
                        </div>
                        <div class="frequency-option" data-value="daily">
                            <i class="fas fa-calendar-day"></i> <span data-lang="daily-summary">Daily Summary</span>
                        </div>
                        <div class="frequency-option" data-value="weekly">
                            <i class="fas fa-calendar-week"></i> <span data-lang="weekly-digest">Weekly Digest</span>
                        </div>
                    </div>

                    <div class="toggle-wrapper mt-20">
                        <div class="toggle-info">
                            <div class="toggle-title"><i class="fas fa-moon"></i> <span data-lang="quiet-hours">Quiet Hours Mode</span></div>
                            <div class="toggle-description" data-lang="quiet-hours-desc">Do not disturb during selected hours</div>
                        </div>
                        <div class="setting-item">
                            <label for="quietHoursToggle" class="setting-item-label">
                                Enable Quiet Hours
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="quietHoursToggle" aria-label="Enable Quiet Hours" title="Toggle Quiet Hours">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="quiet-hours hidden" id="quietHoursSection">
                        <div>
                            <label for="startTime" data-lang="start-time">Start Time:</label>
                            <input type="time" id="startTime" class="time-input" value="22:00" aria-label="Quiet Hours Start Time">
                        </div>
                        <div>
                            <label for="endTime" data-lang="end-time">End Time:</label>
                            <input type="time" id="endTime" class="time-input" value="06:00" aria-label="Quiet Hours End Time">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Notification History & Logs -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-history"></i> <span data-lang="notification-history">Notification History & Logs</span></h2>
                    <button class="btn btn-outline toggle-section-btn" aria-label="Toggle Notification History Section" title="Toggle Section Visibility">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
            </div>
                <div class="card-body">
                    <div class="history-filters">
                        <div>
                            <label for="categoryFilter" data-lang="filter-by-category">Filter by category:</label>
                            <select id="categoryFilter">
                                <option value="all" data-lang="all-categories">All Categories</option>
                                <option value="market" data-lang="market-investment">Market & Investment</option>
                                <option value="advisory" data-lang="financial-advisory">Financial Advisory</option>
                                <option value="loan" data-lang="loan-savings">Loan & Savings</option>
                                <option value="security" data-lang="security-alerts">Security & Account</option>
                            </select>
                        </div>
                        <div>
                            <label for="dateFilter" data-lang="filter-by-date">Filter by date:</label>
                            <input type="date" id="dateFilter">
                        </div>
                    </div>

                    <div class="notification-list">
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title" data-lang="unusual-login-detected">Unusual login detected from Nairobi, Kenya</div>
                                <p data-lang="unusual-login-details">We noticed a login from a new device. If this was you, you can ignore this message.</p>
                                <div class="notification-meta">
                                    <span>2023-06-15 14:32</span>
                                    <span data-lang="security-category">Security & Account</span>
                                </div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title" data-lang="portfolio-performance">Your investment portfolio is up 2.5% this week</div>
                                <p data-lang="portfolio-performance-details">Your diversified investments are performing well against the market.</p>
                                <div class="notification-meta">
                                    <span>2023-06-14 09:15</span>
                                    <span data-lang="market-category">Market & Investment</span>
                                </div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-piggy-bank"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title" data-lang="loan-payment-reminder">Loan payment due in 3 days</div>
                                <p data-lang="loan-payment-details">Your monthly loan payment of KSh 10,500 is due on June 18, 2023.</p>
                                <div class="notification-meta">
                                    <span>2023-06-13 10:30</span>
                                    <span data-lang="loan-category">Loan & Savings</span>
                                </div>
                            </div>
                        </div>
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="notification-content">
                                <div class="notification-title" data-lang="ai-recommendation">AI Financial Advice: Consider increasing emergency fund</div>
                                <p data-lang="ai-recommendation-details">Based on your spending patterns, we recommend building a larger emergency fund.</p>
                                <div class="notification-meta">
                                    <span>2023-06-12 16:45</span>
                                    <span data-lang="advisory-category">Financial Advisory</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Smart AI Recommendations -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-brain"></i> <span data-lang="smart-ai">Smart AI Recommendations</span></h2>
                    <button class="btn btn-outline toggle-section-btn" aria-label="Toggle Smart AI Recommendations Section" title="Toggle Section Visibility">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
            </div>
                <div class="card-body">
                    <div class="ai-recommendation">
                        <div class="ai-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="ai-content">
                            <div class="ai-title" data-lang="optimize-notifications">Optimize Your Notifications</div>
                            <p data-lang="optimize-notifications-details">Based on your usage, you haven't checked Market & Investment alerts in the last 30 days. Would you like to receive them less frequently or disable them?</p>
                            <div class="ai-actions">
                                <button class="btn btn-primary" data-lang="reduce-frequency">Reduce Frequency</button>
                                <button class="btn btn-outline" data-lang="disable">Disable</button>
                                <button class="btn btn-outline" data-lang="ignore">Ignore</button>
                            </div>
                        </div>
                    </div>

                    <div class="ai-recommendation">
                        <div class="ai-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="ai-content">
                            <div class="ai-title" data-lang="weekly-summary">Weekly Notification Summary</div>
                            <p data-lang="weekly-summary-details">You received 42 notifications last week. The most frequent category was "Security & Account Alerts" (18), followed by "Market & Investment" (14).</p>
                            <div class="ai-actions">
                                <button class="btn btn-primary" data-lang="view-detailed-report">View Detailed Report</button>
                                <button class="btn btn-outline" data-lang="adjust-settings">Adjust Settings</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="save-section">
                <button class="btn btn-outline" id="resetBtn" data-lang="reset-defaults">Reset to Defaults</button>
                <button class="btn btn-primary" id="saveBtn" data-lang="save-changes">Save Changes</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-copyright" data-lang="copyright">Â© 2023 PesaGuru. All rights reserved.</div>
            <div class="footer-links">
                <a href="#" data-lang="help">Help</a>
                <a href="#" data-lang="privacy-policy">Privacy Policy</a>
                <a href="#" data-lang="terms">Terms of Service</a>
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const themeText = document.getElementById('themeText');
        const themeIcon = themeToggle.querySelector('i');
        const languageToggle = document.getElementById('languageToggle');
        const languageText = document.getElementById('languageText');
        const masterToggle = document.getElementById('masterToggle');
        const muteAll = document.getElementById('muteAll');
        const testNotification = document.getElementById('testNotification');
        const quietHoursToggle = document.getElementById('quietHoursToggle');
        const quietHoursSection = document.getElementById('quietHoursSection');
        const saveBtn = document.getElementById('saveBtn');
        const resetBtn = document.getElementById('resetBtn');
        const notificationToggles = document.querySelectorAll('.notification-toggle');
        const methodToggles = document.querySelectorAll('.method-toggle');
        const frequencyOptions = document.querySelectorAll('.frequency-option');
        const sectionToggles = document.querySelectorAll('.toggle-section-btn');
        const toastContainer = document.getElementById('toastContainer');

        // Language translations
        const translations = {
            en: {
                'notification-preferences': 'Notification Preferences',
                'toggle-all-notifications': 'Toggle All Notifications',
                'test-notification': 'Test Notification',
                'mute-all': 'Mute All Notifications',
                'market-investment': 'Market & Investment Alerts',
                'stock-market': 'Stock Market Updates',
                'stock-market-desc': 'Price changes, trends, major news',
                'crypto-alerts': 'Cryptocurrency Alerts',
                'crypto-desc': 'Price movements, volatility warnings',
                'interest-rates': 'Interest Rate Changes',
                'interest-rates-desc': 'CBK, global trends',
                'portfolio-perf': 'Investment Portfolio Performance',
                'portfolio-desc': 'Weekly and monthly performance updates',
                'financial-advisory': 'Financial Advisory & Insights',
                'investment-rec': 'Personalized Investment Recommendations',
                'investment-rec-desc': 'Tailored investment opportunities',
                'ai-advice': 'AI-Driven Financial Advice Summaries',
                'ai-advice-desc': 'Weekly insights based on your financial behavior',
                'new-features': 'New Feature Announcements',
                'new-features-desc': 'Stay updated with PesaGuru\'s latest features',
                'loan-savings': 'Loan & Savings Notifications',
                'loan-reminders': 'Loan Repayment Reminders',
                'loan-reminders-desc': 'Get timely reminders for upcoming loan payments',
                'savings-milestones': 'Savings Milestones Reached',
                'savings-milestones-desc': 'Celebrate when you reach savings goals',
                'pension-updates': 'Pension & Retirement Plan Updates',
                'pension-updates-desc': 'Periodic updates on your retirement planning',
                'security-alerts': 'Security & Account Alerts',
                'unusual-login': 'Unusual Login Attempts',
                'unusual-login-desc': 'Be notified of suspicious login activities',
                'profile-changes': 'Profile Changes & Updates',
                'profile-changes-desc': 'Notifications when your profile information changes',
                'fraud-warnings': 'Suspicious Transactions or Fraud Warnings',
                'fraud-warnings-desc': 'Immediate alerts for potential fraudulent activities',
                'delivery-methods': 'Delivery Methods Selection',
                'choose-delivery': 'Choose how you want to receive notifications:',
                'push-notifications': 'Push Notifications (App)',
                'email-updates': 'Email Updates',
                'sms-alerts': 'SMS Alerts',
                'in-app-alerts': 'In-App Alerts Only',
                'frequency-quiet': 'Notification Frequency & Quiet Hours',
                'set-frequency': 'Set how often you want to receive notifications:',
                'real-time': 'Real-time Alerts',
                'daily-summary': 'Daily Summary',
                'weekly-digest': 'Weekly Digest',
                'quiet-hours': 'Quiet Hours Mode',
                'quiet-hours-desc': 'Do not disturb during selected hours',
                'start-time': 'Start Time:',
                'end-time': 'End Time:',
                'notification-history': 'Notification History & Logs',
                'filter-by-category': 'Filter by category:',
                'all-categories': 'All Categories',
                'filter-by-date': 'Filter by date:',
                'unusual-login-detected': 'Unusual login detected from Nairobi, Kenya',
                'unusual-login-details': 'We noticed a login from a new device. If this was you, you can ignore this message.',
                'security-category': 'Security & Account',
                'portfolio-performance': 'Your investment portfolio is up 2.5% this week',
                'portfolio-performance-details': 'Your diversified investments are performing well against the market.',
                'market-category': 'Market & Investment',
                'loan-payment-reminder': 'Loan payment due in 3 days',
                'loan-payment-details': 'Your monthly loan payment of KSh 10,500 is due on June 18, 2023.',
                'loan-category': 'Loan & Savings',
                'ai-recommendation': 'AI Financial Advice: Consider increasing emergency fund',
                'ai-recommendation-details': 'Based on your spending patterns, we recommend building a larger emergency fund.',
                'advisory-category': 'Financial Advisory',
                'smart-ai': 'Smart AI Recommendations',
                'optimize-notifications': 'Optimize Your Notifications',
                'optimize-notifications-details': 'Based on your usage, you haven\'t checked Market & Investment alerts in the last 30 days. Would you like to receive them less frequently or disable them?',
                'reduce-frequency': 'Reduce Frequency',
                'disable': 'Disable',
                'ignore': 'Ignore',
                'weekly-summary': 'Weekly Notification Summary',
                'weekly-summary-details': 'You received 42 notifications last week. The most frequent category was "Security & Account Alerts" (18), followed by "Market & Investment" (14).',
                'view-detailed-report': 'View Detailed Report',
                'adjust-settings': 'Adjust Settings',
                'reset-defaults': 'Reset to Defaults',
                'save-changes': 'Save Changes',
                'copyright': 'Â© 2023 PesaGuru. All rights reserved.',
                'help': 'Help',
                'privacy-policy': 'Privacy Policy',
                'terms': 'Terms of Service',
                'settings-saved': 'Settings saved successfully!',
                'settings-reset': 'Settings have been reset to defaults.',
                'notifications-on': 'All notifications have been turned on.',
                'notifications-off': 'All notifications have been turned off.',
                'test-sent': 'Test notification has been sent.'
            },
            sw: {
                'notification-preferences': 'Mapendekezo ya Arifa',
                'toggle-all-notifications': 'Badilisha Arifa Zote',
                'test-notification': 'Jaribu Arifa',
                'mute-all': 'Zima Arifa Zote',
                'market-investment': 'Arifa za Soko na Uwekezaji',
                'stock-market': 'Masasisho ya Soko la Hisa',
                'stock-market-desc': 'Mabadiliko ya bei, mitindo, habari muhimu',
                'crypto-alerts': 'Arifa za Sarafu za Kidijitali',
                'crypto-desc': 'Mabadiliko ya bei, tahadhari za kutetereka',
                'interest-rates': 'Mabadiliko ya Viwango vya Riba',
                'interest-rates-desc': 'CBK, mitindo ya kimataifa',
                'portfolio-perf': 'Utendaji wa Mkoba wa Uwekezaji',
                'portfolio-desc': 'Masasisho ya utendaji ya kila wiki na kila mwezi',
                'financial-advisory': 'Ushauri na Maoni ya Kifedha',
                'investment-rec': 'Mapendekezo ya Uwekezaji Binafsi',
                'investment-rec-desc': 'Fursa za uwekezaji zinazofaa kwako',
                'ai-advice': 'Muhtasari wa Ushauri wa Kifedha wa AI',
                'ai-advice-desc': 'Maoni ya kila wiki kulingana na tabia yako ya kifedha',
                'new-features': 'Matangazo ya Vipengele Vipya',
                'new-features-desc': 'Sasisha na vipengele vipya vya PesaGuru',
                'loan-savings': 'Arifa za Mikopo na Akiba',
                'loan-reminders': 'Kumbukumbu za Malipo ya Mkopo',
                'loan-reminders-desc': 'Pata kumbukumbu kwa wakati kwa malipo yanayokuja ya mkopo',
                'savings-milestones': 'Malengo ya Akiba Yaliyofikiwa',
                'savings-milestones-desc': 'Sherehekea unapofika malengo ya akiba',
                'pension-updates': 'Masasisho ya Mpango wa Uzeeni na Pensheni',
                'pension-updates-desc': 'Masasisho ya mara kwa mara kuhusu mpango wako wa uzeeni',
                'security-alerts': 'Arifa za Usalama na Akaunti',
                'unusual-login': 'Majaribio ya Kuingia Yasiyozoeleka',
                'unusual-login-desc': 'Arifiwa juu ya shughuli za kuingia zinazotiliwa shaka',
                'profile-changes': 'Mabadiliko na Masasisho ya Wasifu',
                'profile-changes-desc': 'Arifa wakati taarifa ya wasifu wako inabadilika',
                'fraud-warnings': 'Miamala Inayotiliwa Shaka au Tahadhari za Ulaghai',
                'fraud-warnings-desc': 'Arifa za haraka kwa shughuli za ulaghai zinazowezekana',
                'delivery-methods': 'Uchaguzi wa Njia za Upokeaji',
                'choose-delivery': 'Chagua jinsi unavyotaka kupokea arifa:',
                'push-notifications': 'Arifa za Kusukuma (Programu)',
                'email-updates': 'Masasisho ya Barua Pepe',
                'sms-alerts': 'Arifa za SMS',
                'in-app-alerts': 'Arifa za Ndani ya Programu Pekee',
                'frequency-quiet': 'Mzunguko wa Arifa na Saa za Utulivu',
                'set-frequency': 'Weka mara ngapi unataka kupokea arifa:',
                'real-time': 'Arifa za Wakati Halisi',
                'daily-summary': 'Muhtasari wa Kila Siku',
                'weekly-digest': 'Muhtasari wa Kila Wiki',
                'quiet-hours': 'Hali ya Saa za Utulivu',
                'quiet-hours-desc': 'Usisumbuliwe wakati wa saa zilizochaguliwa',
                'start-time': 'Wakati wa Kuanza:',
                'end-time': 'Wakati wa Kumaliza:',
                'notification-history': 'Historia na Kumbukumbu za Arifa',
                'filter-by-category': 'Chuja kwa kategoria:',
                'all-categories': 'Kategoria Zote',
                'filter-by-date': 'Chuja kwa tarehe:',
                'unusual-login-detected': 'Uingiaji usio wa kawaida umegunduliwa kutoka Nairobi, Kenya',
                'unusual-login-details': 'Tumeona uingiaji kutoka kifaa kipya. Ikiwa hii ilikuwa wewe, unaweza kupuuza ujumbe huu.',
                'security-category': 'Usalama na Akaunti',
                'portfolio-performance': 'Mkoba wako wa uwekezaji umepanda kwa 2.5% wiki hii',
                'portfolio-performance-details': 'Uwekezaji wako uliogawanywa unafanya vizuri dhidi ya soko.',
                'market-category': 'Soko na Uwekezaji',
                'loan-payment-reminder': 'Malipo ya mkopo yanakaribia siku 3',
                'loan-payment-details': 'Malipo yako ya kila mwezi ya mkopo ya KSh 10,500 yanakaribia tarehe 18 Juni, 2023.',
                'loan-category': 'Mkopo na Akiba',
                'ai-recommendation': 'Ushauri wa Kifedha wa AI: Fikiria kuongeza akiba ya dharura',
                'ai-recommendation-details': 'Kulingana na mifumo yako ya matumizi, tunapendekeza kujenga akiba kubwa ya dharura.',
                'advisory-category': 'Ushauri wa Kifedha',
                'smart-ai': 'Mapendekezo ya AI ya Akili',
                'optimize-notifications': 'Boresha Arifa Zako',
                'optimize-notifications-details': 'Kulingana na matumizi yako, hujatazama arifa za Soko na Uwekezaji katika siku 30 zilizopita. Je, ungependa kuzipokea mara chache zaidi au kuzizima?',
                'reduce-frequency': 'Punguza Mzunguko',
                'disable': 'Zima',
                'ignore': 'Puuza',
                'weekly-summary': 'Muhtasari wa Arifa wa Kila Wiki',
                'weekly-summary-details': 'Ulipokea arifa 42 wiki iliyopita. Kategoria iliyotokea mara nyingi zaidi ilikuwa "Arifa za Usalama na Akaunti" (18), ikifuatiwa na "Soko na Uwekezaji" (14).',
                'view-detailed-report': 'Tazama Ripoti ya Kina',
                'adjust-settings': 'Rekebisha Mipangilio',
                'reset-defaults': 'Rudisha kwa Chaguo-Msingi',
                'save-changes': 'Hifadhi Mabadiliko',
                'copyright': 'Â© 2023 PesaGuru. Haki zote zimehifadhiwa.',
                'help': 'Usaidizi',
                'privacy-policy': 'Sera ya Faragha',
                'terms': 'Masharti ya Huduma',
                'settings-saved': 'Mipangilio imehifadhiwa kwa ufanisi!',
                'settings-reset': 'Mipangilio imerudishwa kwa chaguo-msingi.',
                'notifications-on': 'Arifa zote zimewashwa.',
                'notifications-off': 'Arifa zote zimezimwa.',
                'test-sent': 'Arifa ya jaribio imetumwa.'
            }
        };

        // Current language
        let currentLanguage = 'en';

        // Function to update language
        function updateLanguage(lang) {
            currentLanguage = lang;
            
            document.querySelectorAll('[data-lang]').forEach(element => {
                const key = element.getAttribute('data-lang');
                if (translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });

            // Update language toggle button
            if (lang === 'en') {
                languageText.textContent = 'Swahili';
            } else {
                languageText.textContent = 'English';
            }
        }

        // Function to toggle theme
        function toggleTheme() {
            const isDarkMode = document.body.getAttribute('data-theme') === 'dark';
            
            if (isDarkMode) {
                document.body.removeAttribute('data-theme');
                themeText.textContent = 'Dark Mode';
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            } else {
                document.body.setAttribute('data-theme', 'dark');
                themeText.textContent = 'Light Mode';
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }
        }

        // Function to toggle all notification settings
        function toggleAllNotifications() {
            const firstToggle = notificationToggles[0];
            const newState = !firstToggle.checked;
            
            notificationToggles.forEach(toggle => {
                toggle.checked = newState;
            });

            showToast(newState ? 'notifications-on' : 'notifications-off', 'success');
        }

        // Function to mute all notifications
        function muteAllNotifications() {
            notificationToggles.forEach(toggle => {
                toggle.checked = false;
            });
            
            showToast('notifications-off', 'success');
        }

        // Function to test notification
        function sendTestNotification() {
            showToast('test-sent', 'success');
        }

        // Function to toggle section visibility
        function toggleSection(button) {
            const cardBody = button.closest('.card').querySelector('.card-body');
            const icon = button.querySelector('i');
            
            if (cardBody.style.display === 'none') {
                cardBody.style.display = 'block';
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            } else {
                cardBody.style.display = 'none';
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            }
        }

        // Function to show toast notification
        function showToast(messageKey, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            let icon = 'info-circle';
            if (type === 'success') icon = 'check-circle';
            if (type === 'warning') icon = 'exclamation-triangle';
            if (type === 'error') icon = 'times-circle';
            
            toast.innerHTML = `
                <div class="toast-content">
                    <i class="fas fa-${icon} toast-icon"></i>
                    <span>${translations[currentLanguage][messageKey]}</span>
                </div>
                <button class="toast-close"><i class="fas fa-times"></i></button>
            `;
            
            toastContainer.appendChild(toast);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                toast.style.animation = 'slide-out 0.3s forwards';
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 5000);
            
            // Close button functionality
            toast.querySelector('.toast-close').addEventListener('click', () => {
                toast.style.animation = 'slide-out 0.3s forwards';
                setTimeout(() => {
                    toast.remove();
                }, 300);
            });
        }

        // Function to save settings
        function saveSettings() {
            // In a real application, this would send data to a server
            // For demo purposes, we'll just show a success message
            showToast('settings-saved', 'success');
        }

        // Function to reset settings
        function resetSettings() {
            // Reset all toggles to default (on)
            notificationToggles.forEach(toggle => {
                toggle.checked = true;
            });
            
            // Reset delivery methods
            methodToggles.forEach((toggle, index) => {
                // Default: Enable push, email, and in-app, disable SMS
                toggle.checked = index !== 2;
            });
            
            // Reset frequency to real-time
            frequencyOptions.forEach(option => {
                option.classList.remove('active');
                if (option.getAttribute('data-value') === 'real-time') {
                    option.classList.add('active');
                }
            });
            
            // Reset quiet hours
            quietHoursToggle.checked = false;
            quietHoursSection.style.display = 'none';
            
            showToast('settings-reset', 'success');
        }

        // Event listeners
        themeToggle.addEventListener('click', toggleTheme);
        
        languageToggle.addEventListener('click', () => {
            updateLanguage(currentLanguage === 'en' ? 'sw' : 'en');
        });
        
        masterToggle.addEventListener('click', toggleAllNotifications);
        
        muteAll.addEventListener('click', muteAllNotifications);
        
        testNotification.addEventListener('click', sendTestNotification);
        
        quietHoursToggle.addEventListener('change', function() {
            quietHoursSection.style.display = this.checked ? 'flex' : 'none';
        });
        
        sectionToggles.forEach(button => {
            button.addEventListener('click', () => toggleSection(button));
        });
        
        saveBtn.addEventListener('click', saveSettings);
        
        resetBtn.addEventListener('click', resetSettings);
        
        frequencyOptions.forEach(option => {
            option.addEventListener('click', () => {
                frequencyOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
            });
        });

        // Initialize the page
        updateLanguage('en');
    </script>
</body>
</html>