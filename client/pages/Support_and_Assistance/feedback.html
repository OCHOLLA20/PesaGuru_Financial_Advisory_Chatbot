<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PesaGuru - Feedback & Support</title>
    <style>
        :root {
            --primary-color: #4CAF50;
            --primary-hover: #3e8e41;
            --secondary-color: #2196F3;
            --accent-color: #FF9800;
            --error-color: #f44336;
            --success-color: #4CAF50;
            --text-color: #333;
            --text-light: #666;
            --bg-color: #f9f9f9;
            --card-bg: #fff;
            --border-color: #ddd;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --emoji-bg: #f0f0f0;
            --hover-bg: #f5f5f5;
            --chart-color-1: #4CAF50;
            --chart-color-2: #2196F3;
            --chart-color-3: #FF9800;
            --positive-color: #4CAF50;
            --neutral-color: #FFC107;
            --negative-color: #f44336;
        }

        [data-theme="dark"] {
            --primary-color: #63d866;
            --primary-hover: #4ebe52;
            --secondary-color: #45b0ff;
            --accent-color: #ffb74d;
            --error-color: #ff6961;
            --success-color: #63d866;
            --text-color: #e0e0e0;
            --text-light: #b0b0b0;
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --border-color: #333;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --emoji-bg: #2a2a2a;
            --hover-bg: #2a2a2a;
            --chart-color-1: #63d866;
            --chart-color-2: #45b0ff;
            --chart-color-3: #ffb74d;
            --positive-color: #63d866;
            --neutral-color: #ffce45;
            --negative-color: #ff6961;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        header {
            background-color: var(--card-bg);
            box-shadow: 0 2px 5px var(--shadow-color);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--text-color);
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .intro-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .quick-emoji-feedback {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .emoji-btn {
            font-size: 2rem;
            background-color: var(--emoji-bg);
            border: 2px solid transparent;
            border-radius: 50%;
            height: 70px;
            width: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s, border-color 0.2s;
        }

        .emoji-btn:hover {
            transform: scale(1.1);
        }

        .emoji-btn.selected {
            border-color: var(--primary-color);
            transform: scale(1.1);
        }

        .grid-layout {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 8px var(--shadow-color);
            padding: 1.5rem;
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h2 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-section {
            grid-column: span 8;
        }

        .analytics-section {
            grid-column: span 4;
        }

        .feature-request-section, 
        .bug-report-section {
            grid-column: span 6;
        }

        .faq-section, 
        .support-section {
            grid-column: span 6;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .star-rating {
            display: flex;
            gap: 0.5rem;
            font-size: 1.5rem;
        }

        .star {
            cursor: pointer;
            color: #ccc;
        }

        .star.filled {
            color: #FFD700;
        }

        .file-upload {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .file-upload-btn {
            background-color: var(--secondary-color);
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .file-upload-btn:hover {
            background-color: #0b7dda;
        }

        .file-name {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .submit-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .submit-btn:hover {
            background-color: var(--primary-hover);
        }

        .chart-container {
            height: 200px;
            margin: 1rem 0;
            position: relative;
        }

        .satisfaction-chart {
            display: flex;
            height: 100%;
            align-items: flex-end;
            gap: 0.5rem;
        }

        .chart-bar {
            flex-grow: 1;
            background-color: var(--chart-color-1);
            border-radius: 5px 5px 0 0;
            position: relative;
            min-width: 30px;
            transition: height 0.5s;
        }

        .chart-bar::after {
            content: attr(data-value);
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
        }

        .sentiment-distribution {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .sentiment-item {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem;
            border-radius: 5px;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
        }

        .sentiment-positive {
            color: var(--positive-color);
        }

        .sentiment-neutral {
            color: var(--neutral-color);
        }

        .sentiment-negative {
            color: var(--negative-color);
        }

        .feedback-item {
            padding: 0.75rem;
            border-radius: 5px;
            background-color: var(--hover-bg);
            margin-bottom: 0.75rem;
        }

        .feature-list {
            margin-top: 1rem;
        }

        .feature-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            border-radius: 5px;
            background-color: var(--hover-bg);
            margin-bottom: 0.75rem;
        }

        .feature-title {
            font-weight: 600;
        }

        .feature-description {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-top: 0.25rem;
        }

        .feature-vote {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .vote-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .vote-count {
            font-weight: 600;
        }

        .status-tag {
            padding: 0.25rem 0.5rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-planned {
            background-color: var(--secondary-color);
            color: white;
        }

        .status-review {
            background-color: var(--accent-color);
            color: white;
        }

        .status-implemented {
            background-color: var(--success-color);
            color: white;
        }

        .faq-item {
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 1rem;
        }

        .faq-question {
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-answer {
            margin-top: 0.75rem;
            display: none;
            padding-left: 1rem;
            border-left: 3px solid var(--primary-color);
        }

        .faq-answer.active {
            display: block;
        }

        .chat-container {
            height: 300px;
            background-color: var(--hover-bg);
            border-radius: 5px;
            padding: 1rem;
            overflow-y: auto;
            margin-bottom: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .chat-message {
            max-width: 80%;
            padding: 0.75rem;
            border-radius: 10px;
        }

        .chat-message.incoming {
            background-color: var(--secondary-color);
            color: white;
            align-self: flex-start;
            border-bottom-left-radius: 0;
        }

        .chat-message.outgoing {
            background-color: var(--primary-color);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 0;
        }

        .chat-input {
            display: flex;
            gap: 0.5rem;
        }

        .ticket-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .ticket-btn:hover {
            background-color: #0b7dda;
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success-color);
            color: white;
            padding: 1rem;
            border-radius: 5px;
            box-shadow: 0 4px 8px var(--shadow-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
        }

        .notification.active {
            transform: translateY(0);
            opacity: 1;
        }

        .hidden-input {
            display: none;
        }        

        @media (max-width: 992px) {
            .form-section, 
            .analytics-section,
            .feature-request-section, 
            .bug-report-section,
            .faq-section, 
            .support-section {
                grid-column: span 12;
            }
        }

        @media (max-width: 768px) {
            .quick-emoji-feedback {
                flex-wrap: wrap;
            }
            
            .emoji-btn {
                height: 60px;
                width: 60px;
                font-size: 1.75rem;
            }
        }

        @media (max-width: 576px) {
            h1 {
                font-size: 2rem;
            }
            
            .emoji-btn {
                height: 50px;
                width: 50px;
                font-size: 1.5rem;
            }
            
            .card {
                padding: 1rem;
            }
        }

        /* Chart Styles */
.chart-container {
    margin: 20px 0;
  }
  
  .satisfaction-chart {
    display: flex;
    align-items: flex-end;
    height: 200px;
    gap: 10px;
  }
  
  .chart-bar {
    flex: 1;
    background-color: #4a90e2;
    border-radius: 4px 4px 0 0;
    position: relative;
  }
  
  .chart-bar::after {
    content: attr(data-value);
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 14px;
  }
  
  /* Sentiment Analysis Styles */
  .sentiment-distribution {
    display: flex;
    justify-content: space-around;
    margin: 20px 0;
  }
  
  .sentiment-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
  }
  
  .sentiment-positive {
    font-size: 24px;
    color: #28a745;
  }
  
  .sentiment-neutral {
    font-size: 24px;
    color: #ffc107;
  }
  
  .sentiment-negative {
    font-size: 24px;
    color: #dc3545;
  }
  
  /* Feedback Styles */
  .feedback-list {
    margin: 15px 0;
  }
  
  .feedback-item {
    background-color: #f8f9fa;
    border-left: 4px solid #4a90e2;
    padding: 10px 15px;
    margin-bottom: 10px;
    border-radius: 0 4px 4px 0;
  }
  
  /* Feature Request Styles */
  .card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
  }
  
  .form-group {
    margin-bottom: 15px;
  }
  
  .feature-list {
    margin-top: 20px;
  }
  
  .feature-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    margin-bottom: 10px;
  }
  
  .feature-title {
    font-weight: bold;
    margin-bottom: 5px;
  }
  
  .feature-description {
    font-size: 14px;
    color: #666;
    margin-bottom: 5px;
  }
  
  .feature-vote {
    display: flex;
    align-items: center;
    gap: 5px;
  }
  
  .vote-btn {
    background-color: #f1f1f1;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    font-size: 18px;
    cursor: pointer;
  }
  
  .vote-count {
    font-weight: bold;
  }
  
  .status-tag {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 12px;
  }
  
  .status-review {
    background-color: #fff3cd;
    color: #856404;
  }
  
  .status-planned {
    background-color: #d1ecf1;
    color: #0c5460;
  }
  
  .status-implemented {
    background-color: #d4edda;
    color: #155724;
  }
  
  /* Bug Report Styles */
  .submit-btn {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: #4a90e2;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 10px 15px;
    cursor: pointer;
    font-weight: bold;
    width: 100%;
  }
  
  input[type="text"], textarea, select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
  }
  
  textarea {
    min-height: 80px;
    resize: vertical;
  }
  
  .file-upload {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  
  .file-upload-btn {
    background-color: #f1f1f1;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 8px 12px;
    cursor: pointer;
  }
  
  .file-name {
    font-size: 14px;
    color: #666;
  }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <span>💰</span>
            <span>PesaGuru</span>
        </div>
        <div class="header-actions">
            <button class="theme-toggle" id="themeToggle">🌓</button>
        </div>
    </header>

    <div class="container">
        <div class="intro-section">
            <h1>We Value Your Feedback</h1>
            <p>Help us improve PesaGuru by sharing your experience, reporting issues, or suggesting new features.</p>
            
            <div class="quick-emoji-feedback">
                <div class="emoji-btn" data-value="happy">😀</div>
                <div class="emoji-btn" data-value="neutral">😐</div>
                <div class="emoji-btn" data-value="sad">😠</div>
            </div>
        </div>

        <div class="grid-layout">
            <!-- Feedback Form Section -->
            <section class="card form-section">
                <h2>📝 Share Your Feedback</h2>
                <form id="feedbackForm">
                    <div class="form-group">
                        <label for="rating">Rate Your Experience:</label>
                        <div class="star-rating" id="ratingStars">
                            <span class="star" data-value="1">★</span>
                            <span class="star" data-value="2">★</span>
                            <span class="star" data-value="3">★</span>
                            <span class="star" data-value="4">★</span>
                            <span class="star" data-value="5">★</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="category">Feedback Category:</label>
                        <select id="category" required>
                            <option value="">Select a category</option>
                            <option value="chatbot">Chatbot Experience</option>
                            <option value="market">Market Data</option>
                            <option value="loan">Loan Comparison</option>
                            <option value="security">Security</option>
                            <option value="ui">User Interface/Experience</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="comment">Your Feedback:</label>
                        <textarea id="comment" placeholder="Please share your thoughts, suggestions, or experiences..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label>Add Screenshot (optional):</label>
                        <div class="file-upload">
                            <button type="button" class="file-upload-btn" id="fileUploadBtn">Choose File</button>
                            <span class="file-name" id="fileName">No file chosen</span>
                            <input type="file" id="fileUpload" accept="image/*" class="hidden-input">
                        </div>
                    </div>

                    <button type="submit" class="submit-btn">
                        <span>Submit Feedback</span>
                        <span>➤</span>
                    </button>
                </form>
            </section>

            <!-- Analytics Section -->
            <section class="card analytics-section">
                <h2>📊 Feedback Analytics</h2>
                <div class="chart-container">
                    <div class="satisfaction-chart">
                        <div class="chart-bar" data-value="60%"></div>
                        <div class="chart-bar" data-value="75%"></div>
                        <div class="chart-bar" data-value="90%"></div>
                        <div class="chart-bar" data-value="85%"></div>
                        <div class="chart-bar" data-value="70%"></div>
                    </div>
                </div>
                <p>User satisfaction trend over the last 5 months</p>
            
                <h3>Sentiment Analysis</h3>
                <div class="sentiment-distribution">
                    <div class="sentiment-item">
                        <span class="sentiment-positive">😀</span>
                        <span>65%</span>
                        <span>Positive</span>
                    </div>
                    <div class="sentiment-item">
                        <span class="sentiment-neutral">😐</span>
                        <span>25%</span>
                        <span>Neutral</span>
                    </div>
                    <div class="sentiment-item">
                        <span class="sentiment-negative">😠</span>
                        <span>10%</span>
                        <span>Negative</span>
                    </div>
                </div>
            
                <h3>Latest Feedback</h3>
                <div class="feedback-list">
                    <div class="feedback-item">
                        <p>"The new loan comparison feature is fantastic! It helped me make an informed decision."</p>
                    </div>
                    <div class="feedback-item">
                        <p>"I wish the chatbot could understand more complex financial questions."</p>
                    </div>
                </div>
                </section>
            
                <!-- Feature Request Section -->
                <section class="card feature-request-section">
                    <h2>📢 Feature Requests & Voting</h2>
                    <p>Vote for features you'd like to see implemented or suggest new ones!</p>
                    
                    <div class="form-group">
                        <label for="featureSuggestion">Suggest a New Feature:</label>
                        <textarea id="featureSuggestion" placeholder="Describe your feature idea..."></textarea>
                        <button type="button" class="submit-btn" id="suggestFeatureBtn">
                            <span>Submit Suggestion</span>
                            <span>➤</span>
                        </button>
                    </div>
            
                    <div class="feature-list">
                        <div class="feature-item">
                            <div>
                                <div class="feature-title">AI-powered financial advisor</div>
                                <div class="feature-description">Personal recommendations based on spending habits</div>
                                <span class="status-tag status-review">Under Review</span>
                            </div>
                            <div class="feature-vote">
                                <button class="vote-btn">+</button>
                                <span class="vote-count">128</span>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div>
                                <div class="feature-title">Cryptocurrency market integration</div>
                                <div class="feature-description">Track crypto alongside traditional investments</div>
                                <span class="status-tag status-planned">Planned</span>
                            </div>
                            <div class="feature-vote">
                                <button class="vote-btn">+</button>
                                <span class="vote-count">96</span>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div>
                                <div class="feature-title">Dark mode support</div>
                                <div class="feature-description">Night-friendly interface option</div>
                                <span class="status-tag status-implemented">Implemented</span>
                            </div>
                            <div class="feature-vote">
                                <button class="vote-btn">+</button>
                                <span class="vote-count">215</span>
                            </div>
                        </div>
                    </div>
                </section>
            
                <!-- Bug Report Section -->
                <section class="card bug-report-section">
                    <h2>🛠️ Bug & Issue Reporting</h2>
                    <p>Help us improve by reporting technical issues or errors you encounter.</p>
                    
                    <div class="form-group">
                        <label for="bugTitle">Issue Title:</label>
                        <input type="text" id="bugTitle" placeholder="Brief description of the issue">
                    </div>
                    <div class="form-group">
                        <label for="bugDescription">Detailed Description:</label>
                        <textarea id="bugDescription" placeholder="Steps to reproduce, expected vs. actual behavior..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="bugSeverity">Severity:</label>
                        <select id="bugSeverity">
                            <option value="low">Low - Minor inconvenience</option>
                            <option value="medium">Medium - Affects functionality but has workaround</option>
                            <option value="high">High - Feature doesn't work properly</option>
                            <option value="critical">Critical - System crash or data loss</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Add Screenshot (recommended):</label>
                        <div class="file-upload">
                            <button type="button" class="file-upload-btn" id="bugFileUploadBtn">Choose File</button>
                            <span class="file-name" id="bugFileName">No file chosen</span>
                            <input type="file" id="bugFileUpload" accept="image/*" class="hidden-input">
                        </div>
                    </div>
                    <button type="button" class="submit-btn" id="reportBugBtn">
                        <span>Submit Bug Report</span>
                        <span>➤</span>
                    </button>
                </section>

                <h3>Your Reported Issues</h3>
                <div class="feature-list">
                    <div class="feature-item">
                        <div>
                            <div class="feature-title">Login timeout on mobile app</div>
                            <div class="feature-description">Status: In Progress - Last updated 2 days ago</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FAQ Section -->
            <section class="card faq-section">
                <h2>🤝 Community Support & FAQs</h2>
                <p>Find answers to common questions or browse community discussions.</p>
                
                <div class="faq-list">
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>How do I reset my password?</span>
                            <span>+</span>
                        </div>
                        <div class="faq-answer">
                            Click on "Forgot Password" on the login screen. Enter your registered email address, and we'll send you a link to reset your password. The link is valid for 24 hours.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>How accurate is the loan comparison tool?</span>
                            <span>+</span>
                        </div>
                        <div class="faq-answer">
                            Our loan comparison tool pulls real-time data from partner financial institutions. The rates shown are updated daily, but actual rates may vary based on your credit score and other factors. Always check with the financial institution before making a decision.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Is my financial data secure?</span>
                            <span>+</span>
                        </div>
                        <div class="faq-answer">
                            Yes, we take security seriously. We use bank-level encryption for all data transmission, and we never store your bank login credentials. We're compliant with industry-standard security protocols and undergo regular security audits.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>How can I link my bank account?</span>
                            <span>+</span>
                        </div>
                        <div class="faq-answer">
                            Go to "Settings" > "Link Accounts". Select your bank from the list and follow the secure prompts. We use a trusted third-party service to establish this connection securely without storing your bank credentials.
                        </div>
                    </div>
                </div>
            </section>

            <!-- Support & Live Chat Section -->
            <section class="card support-section">
                <h2>🔔 Live Chat & Support Ticketing</h2>
                <p>Need immediate assistance? Chat with our support team or create a support ticket.</p>
                
                <div class="chat-container" id="chatContainer">
                    <div class="chat-message incoming">
                        Hello! How can I help you today with PesaGuru?
                    </div>
                    <div class="chat-message outgoing">
                        I'm having trouble connecting my bank account. It keeps showing an error.
                    </div>
                    <div class="chat-message incoming">
                        I'm sorry to hear that. Could you tell me which bank you're trying to connect and what error message you're seeing?
                    </div>
                </div>
                
                <div class="chat-input">
                    <input type="text" id="chatInput" placeholder="Type your message here...">
                    <button type="button" class="submit-btn" id="sendChatBtn">Send</button>
                </div>
                
                <p>For complex issues that require in-depth troubleshooting:</p>
                <button type="button" class="ticket-btn" id="createTicketBtn">
                    <span>Create Support Ticket</span>
                    <span>➤</span>
                </button>
            </section>
        </div>
    </div>

    <div class="notification" id="notification">
        <span>✅</span>
        <span id="notificationText">Thank you for your feedback!</span>
    </div>

    <script>
        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme') || 'light';
        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeToggle.textContent = '☀️';
        }
        
        themeToggle.addEventListener('click', () => {
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeToggle.textContent = '🌓';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '☀️';
                localStorage.setItem('theme', 'dark');
            }
        });
        
        // Star Rating Functionality
        const stars = document.querySelectorAll('.star');
        let currentRating = 0;
        
        stars.forEach(star => {
            star.addEventListener('click', () => {
                const value = parseInt(star.getAttribute('data-value'));
                currentRating = value;
                
                stars.forEach((s, index) => {
                    if (index < value) {
                        s.classList.add('filled');
                    } else {
                        s.classList.remove('filled');
                    }
                });
            });
        });
        
        // Emoji Feedback Selection
        const emojiButtons = document.querySelectorAll('.emoji-btn');
        let selectedEmoji = null;
        
        emojiButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove selected class from all buttons
                emojiButtons.forEach(b => b.classList.remove('selected'));
                
                // Add selected class to clicked button
                btn.classList.add('selected');
                selectedEmoji = btn.getAttribute('data-value');
                
                // Show notification
                showNotification(`Thanks for your ${selectedEmoji} feedback!`);
            });
        });
        
        // File Upload Functionality
        const fileUploadBtn = document.getElementById('fileUploadBtn');
        const fileUpload = document.getElementById('fileUpload');
        const fileName = document.getElementById('fileName');
        
        fileUploadBtn.addEventListener('click', () => {
            fileUpload.click();
        });
        
        fileUpload.addEventListener('change', () => {
            if (fileUpload.files.length > 0) {
                fileName.textContent = fileUpload.files[0].name;
            } else {
                fileName.textContent = 'No file chosen';
            }
        });
        
        // Bug Report File Upload
        const bugFileUploadBtn = document.getElementById('bugFileUploadBtn');
        const bugFileUpload = document.getElementById('bugFileUpload');
        const bugFileName = document.getElementById('bugFileName');
        
        bugFileUploadBtn.addEventListener('click', () => {
            bugFileUpload.click();
        });
        
        bugFileUpload.addEventListener('change', () => {
            if (bugFileUpload.files.length > 0) {
                bugFileName.textContent = bugFileUpload.files[0].name;
            } else {
                bugFileName.textContent = 'No file chosen';
            }
        });
        
        // FAQ Toggle Functionality
        const faqQuestions = document.querySelectorAll('.faq-question');
        
        faqQuestions.forEach(question => {
            question.addEventListener('click', () => {
                const answer = question.nextElementSibling;
                const isActive = answer.classList.contains('active');
                
                // Close all other answers
                document.querySelectorAll('.faq-answer').forEach(a => a.classList.remove('active'));
                document.querySelectorAll('.faq-question span:last-child').forEach(s => s.textContent = '+');
                
                // Toggle the clicked answer
                if (!isActive) {
                    answer.classList.add('active');
                    question.querySelector('span:last-child').textContent = '−';
                }
            });
        });
        
        // Feature Vote Functionality
        const voteButtons = document.querySelectorAll('.vote-btn');
        
        voteButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const voteCount = btn.nextElementSibling;
                let count = parseInt(voteCount.textContent);
                count++;
                voteCount.textContent = count;
                
                // Disable button after voting
                btn.disabled = true;
                btn.style.opacity = '0.7';
                
                showNotification('Thank you for your vote!');
            });
        });
        
        // Live Chat Functionality
        const chatInput = document.getElementById('chatInput');
        const sendChatBtn = document.getElementById('sendChatBtn');
        const chatContainer = document.getElementById('chatContainer');
        
        sendChatBtn.addEventListener('click', sendChatMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendChatMessage();
            }
        });
        
        function sendChatMessage() {
            const message = chatInput.value.trim();
            if (message) {
                // Add outgoing message
                const outgoingMsg = document.createElement('div');
                outgoingMsg.classList.add('chat-message', 'outgoing');
                outgoingMsg.textContent = message;
                chatContainer.appendChild(outgoingMsg);
                
                // Clear input
                chatInput.value = '';
                
                // Scroll to bottom
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
                // Simulate response after delay
                setTimeout(() => {
                    const incomingMsg = document.createElement('div');
                    incomingMsg.classList.add('chat-message', 'incoming');
                    incomingMsg.textContent = "Thanks for your message. Our support team will respond shortly. In the meantime, you might check our FAQ section for quick answers.";
                    chatContainer.appendChild(incomingMsg);
                    
                    // Scroll to bottom again
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                }, 1000);
            }
        }
        
        // Form Submission Handling
        const feedbackForm = document.getElementById('feedbackForm');
        const categorySelect = document.getElementById('category');
        const commentTextarea = document.getElementById('comment');
        
        feedbackForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Validate required fields
            if (!currentRating) {
                showNotification('Please rate your experience', 'error');
                return;
            }
            
            if (!categorySelect.value) {
                showNotification('Please select a category', 'error');
                return;
            }
            
            if (!commentTextarea.value.trim()) {
                showNotification('Please enter your feedback', 'error');
                return;
            }
            
            // Collect form data
            const formData = {
                rating: currentRating,
                category: categorySelect.value,
                comment: commentTextarea.value.trim(),
                emoji: selectedEmoji,
                file: fileUpload.files.length > 0 ? fileUpload.files[0].name : null
            };
            
            // In a real application, you would send this data to your server
            console.log('Feedback submitted:', formData);
            
            // Reset form
            stars.forEach(s => s.classList.remove('filled'));
            currentRating = 0;
            categorySelect.value = '';
            commentTextarea.value = '';
            fileName.textContent = 'No file chosen';
            fileUpload.value = '';
            
            // Remove emoji selection
            emojiButtons.forEach(b => b.classList.remove('selected'));
            selectedEmoji = null;
            
            // Show success message
            showNotification('Thank you for your feedback!');
        });
        
        // Feature Suggestion Handler
        const featureSuggestion = document.getElementById('featureSuggestion');
        const suggestFeatureBtn = document.getElementById('suggestFeatureBtn');
        
        suggestFeatureBtn.addEventListener('click', () => {
            const suggestion = featureSuggestion.value.trim();
            if (suggestion) {
                // In a real app, send to server
                console.log('Feature suggested:', suggestion);
                
                // Reset input
                featureSuggestion.value = '';
                
                // Show success message
                showNotification('Thank you for your feature suggestion!');
            } else {
                showNotification('Please enter your feature suggestion', 'error');
            }
        });
        
        // Bug Report Handler
        const bugTitle = document.getElementById('bugTitle');
        const bugDescription = document.getElementById('bugDescription');
        const bugSeverity = document.getElementById('bugSeverity');
        const reportBugBtn = document.getElementById('reportBugBtn');
        
        reportBugBtn.addEventListener('click', () => {
            if (!bugTitle.value.trim()) {
                showNotification('Please enter a bug title', 'error');
                return;
            }
            
            if (!bugDescription.value.trim()) {
                showNotification('Please enter a bug description', 'error');
                return;
            }
            
            // Collect bug data
            const bugData = {
                title: bugTitle.value.trim(),
                description: bugDescription.value.trim(),
                severity: bugSeverity.value,
                file: bugFileUpload.files.length > 0 ? bugFileUpload.files[0].name : null
            };
            
            // In a real app, send to server
            console.log('Bug reported:', bugData);
            
            // Reset inputs
            bugTitle.value = '';
            bugDescription.value = '';
            bugSeverity.value = 'low';
            bugFileName.textContent = 'No file chosen';
            bugFileUpload.value = '';
            
            // Show success message
            showNotification('Thank you for reporting this issue!');
        });
        
        // Support Ticket Handler
        const createTicketBtn = document.getElementById('createTicketBtn');
        
        createTicketBtn.addEventListener('click', () => {
            // In a real app, this would open a modal or navigate to a ticket form
            showNotification('Support ticket creation coming soon!');
        });
        
        // Notification Handler
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notificationText');
        
        function showNotification(message, type = 'success') {
            notificationText.textContent = message;
            
            if (type === 'error') {
                notification.style.backgroundColor = 'var(--error-color)';
            } else {
                notification.style.backgroundColor = 'var(--success-color)';
            }
            
            notification.classList.add('active');
            
            setTimeout(() => {
                notification.classList.remove('active');
            }, 3000);
        }
        
        // Initialize analytics chart with animation
        document.addEventListener('DOMContentLoaded', () => {
            const chartBars = document.querySelectorAll('.chart-bar');
            
            // Start with zero height
            chartBars.forEach(bar => {
                const targetHeight = bar.style.height;
                bar.style.height = '0%';
                
                // Animate to target height
                setTimeout(() => {
                    bar.style.height = targetHeight;
                }, 300);
            });
        });

        document.getElementById("fileUploadBtn").addEventListener("click", function () {
            document.getElementById("fileUpload").click();
        });
        
        document.getElementById("fileUpload").addEventListener("change", function () {
            let fileName = this.files.length > 0 ? this.files[0].name : "No file chosen";
            document.getElementById("fileName").textContent = fileName;
        });        
    </script>
</body>
</html>